# 📚 초보자를 위한 통계 분석 가이드
## Easy Statistics Guide for Beginners

**목적**: 통계 지식이 없어도 쉽게 데이터를 분석할 수 있도록 도와드립니다!  
**업데이트**: 2025-09-16

---

## 🎯 당신의 질문에 따른 통계 방법 선택

### "내 데이터가 어떤 특성을 가지고 있나요?"
→ **기술통계 분석**을 선택하세요
- 평균, 중간값, 최댓값/최솟값을 알 수 있습니다
- 데이터가 어떻게 분포되어 있는지 확인할 수 있습니다

### "두 그룹 사이에 차이가 있나요?"
→ **t-검정**을 선택하세요
- 예: 남성과 여성의 키 차이, 약물 복용 전후 비교
- "정말로 차이가 있는지" 과학적으로 확인해줍니다

### "세 그룹 이상을 비교하고 싶어요"
→ **분산분석(ANOVA)**을 선택하세요
- 예: A반, B반, C반의 성적 비교
- 여러 그룹을 한 번에 비교할 수 있습니다

### "두 변수가 관련이 있나요?"
→ **상관분석**을 선택하세요
- 예: 키와 몸무게의 관계, 공부시간과 성적의 관계
- 한 값이 증가하면 다른 값도 증가하는지 확인합니다

---

## 🧭 단계별 분석 가이드

### 🆕 스마트 분석 플로우 (/smart-flow)
**한 페이지에서 모든 통계 분석을 완성할 수 있습니다!**

#### 5단계 진행 과정:
1. **데이터 업로드** → CSV 파일을 드래그 앤 드롭
2. **자동 검증** → 데이터 품질을 자동으로 확인
3. **분석 목적 입력** → AI가 최적의 방법을 추천
4. **분석 실행** → Pyodide 기반 정확한 통계 계산
5. **결과 확인** → 쉬운 해석과 다음 액션 제안

#### 🤖 AI 기반 통계 방법 추천 시스템
```
✨ 3가지 추천 모드를 선택할 수 있습니다:

1. ⚡ 빠른 추천 (키워드 기반)
   - 즉시 결과 제공
   - 키워드 패턴 매칭
   - Ollama 없어도 작동

2. 🧠 스마트 추천 (AI 분석)
   - Ollama LLM 활용
   - 더 정확한 추천
   - 2-3초 소요

3. ✨ 자동 선택
   - Ollama 가능 시 AI 사용
   - 불가능 시 키워드 폴백
   - 최적의 방법 자동 선택
```

### 기존 단계별 가이드

### 1단계: 데이터 확인하기
```
✅ 데이터를 업로드했나요?
✅ 숫자 데이터가 맞나요?
✅ 빈 칸(결측값)은 없나요?
```

### 2단계: 질문 정하기
```
무엇을 알고 싶으신가요?
□ 데이터의 기본 특성 (평균, 분포 등)
□ 그룹 간 차이 비교
□ 변수 간 관계 분석
```

### 3단계: 적절한 방법 선택
**시스템이 자동으로 추천해드립니다!**

---

## 📊 결과 해석 가이드

### 기술통계 결과 해석

#### 평균 (Mean)
```
👀 이것은: 모든 값들의 평균입니다
📖 해석: 
- 높을수록: 전체적으로 값이 크다
- 낮을수록: 전체적으로 값이 작다
🔍 예시: 학생들 키의 평균이 165cm → 대부분 학생이 165cm 근처의 키
```

#### 표준편차 (Standard Deviation)
```
👀 이것은: 데이터가 얼마나 흩어져 있는지 보여줍니다
📖 해석:
- 작을수록: 값들이 평균 근처에 모여있음 (일정함)
- 클수록: 값들이 평균에서 멀리 퍼져있음 (다양함)
🔍 예시: 
- 표준편차 2cm → 대부분 학생이 평균±2cm 범위
- 표준편차 10cm → 학생들 키가 매우 다양함
```

### t-검정 결과 해석

#### p-값 (p-value)
```
👀 이것은: "차이가 우연히 생겼을 확률"입니다
📖 해석:
- p < 0.05: 진짜 차이가 있다! ✅
- p ≥ 0.05: 차이가 있다고 확신할 수 없다 ❓

🔍 쉬운 설명:
- p = 0.001 → "1000번 중 1번만 우연히 이런 차이가 생김" = 진짜 차이
- p = 0.3 → "10번 중 3번은 우연히 이런 차이가 생김" = 불확실
```

#### 효과크기 (Effect Size)
```
👀 이것은: 차이가 "얼마나 큰지"를 보여줍니다
📖 해석:
- 작은 효과 (0.2): 차이는 있지만 작음
- 중간 효과 (0.5): 일반적인 크기의 차이
- 큰 효과 (0.8): 매우 큰 차이

🔍 실생활 예시:
- 작은 효과: "남녀 키 차이 2cm" - 있긴 하지만 작음
- 큰 효과: "남녀 키 차이 15cm" - 확실하고 큰 차이
```

### ANOVA 결과 해석

#### F-값과 p-값
```
👀 이것은: 그룹들 사이에 차이가 있는지 알려줍니다
📖 해석:
- p < 0.05: 그룹들 중 적어도 하나는 다르다! ✅
- p ≥ 0.05: 그룹들 간에 명확한 차이 없음 ❓

⚠️ 주의: 어느 그룹이 다른지는 사후검정이 필요합니다!
```

### 상관분석 결과 해석

#### 상관계수 (Correlation Coefficient)
```
👀 이것은: 두 변수가 얼마나 함께 변하는지 보여줍니다
📖 해석:
- +1에 가까움: 한쪽이 증가하면 다른쪽도 증가
- -1에 가까움: 한쪽이 증가하면 다른쪽은 감소
- 0에 가까움: 둘 사이에 관계없음

🔍 크기별 해석:
- 0.1~0.3: 약한 관계
- 0.3~0.7: 중간 관계  
- 0.7~1.0: 강한 관계
```

---

## 🤖 지능형 결과 해석 시스템

### 🆕 하이브리드 추천 시스템 구조
```
┌─────────────────────────────────────┐
│      사용자 분석 목적 입력            │
└────────────┬────────────────────────┘
             │
             ▼
┌─────────────────────────────────────┐
│     키워드 기반 즉시 추천 (100ms)     │
│   - 패턴 매칭                        │
│   - 신뢰도 계산                      │
│   - 즉시 표시                        │
└────────────┬────────────────────────┘
             │
             ▼
┌─────────────────────────────────────┐
│    Ollama LLM 분석 (2-3초)           │
│   - 자연어 이해                      │
│   - 데이터 특성 고려                 │
│   - 정확한 추천                      │
└────────────┬────────────────────────┘
             │
             ▼
┌─────────────────────────────────────┐
│      지능적 결과 통합                 │
│   - 신뢰도 기반 가중치                │
│   - 중복 제거                        │
│   - 최종 추천                        │
└─────────────────────────────────────┘
```

### 자동 해석 예시

#### t-검정 결과
```python
def interpret_ttest_results(result):
    """t-검정 결과를 쉬운 말로 설명"""
    
    p_value = result['p_value']
    effect_size = abs(result['effect_size_cohens_d'])
    
    # 기본 결론
    if p_value < 0.05:
        conclusion = "✅ **두 그룹 사이에 통계적으로 유의미한 차이가 있습니다.**"
        confidence = "95% 이상의 확신을 가지고 말할 수 있습니다."
    else:
        conclusion = "❓ **두 그룹 사이에 명확한 차이가 있다고 확신하기 어렵습니다.**"
        confidence = "더 많은 데이터나 다른 분석이 필요할 수 있습니다."
    
    # 효과 크기 해석
    if effect_size < 0.2:
        effect_desc = "차이는 있지만 **매우 작은 차이**입니다."
    elif effect_size < 0.5:
        effect_desc = "**작은 크기의 차이**가 있습니다."
    elif effect_size < 0.8:
        effect_desc = "**중간 크기의 차이**가 있습니다."
    else:
        effect_desc = "**매우 큰 차이**가 있습니다!"
    
    # 다음 단계 추천
    next_steps = []
    if p_value < 0.05:
        if effect_size < 0.3:
            next_steps.append("🔍 **추가 분석**: 더 큰 효과를 가진 다른 요인을 찾아보세요")
        else:
            next_steps.append("📊 **시각화**: 그래프로 차이를 명확히 보여주세요")
            next_steps.append("📈 **추가 연구**: 왜 이런 차이가 생기는지 조사해보세요")
    else:
        next_steps.append("📏 **표본 크기 늘리기**: 더 많은 데이터를 수집해보세요")
        next_steps.append("🔄 **다른 방법 시도**: 비모수 검정을 고려해보세요")
    
    return {
        'conclusion': conclusion,
        'confidence': confidence,
        'effect_description': effect_desc,
        'next_steps': next_steps,
        'plain_language_summary': f"""
🎯 **간단 요약**
두 그룹을 비교한 결과, {conclusion.replace('**', '').replace('✅ ', '').replace('❓ ', '')}
{effect_desc}
{confidence}
        """.strip()
    }
```

#### ANOVA 결과 해석
```python
def interpret_anova_results(result):
    """ANOVA 결과를 쉬운 말로 설명"""
    
    p_value = result['p_value']
    eta_squared = result['eta_squared']
    
    if p_value < 0.05:
        conclusion = "✅ **그룹들 사이에 통계적으로 유의미한 차이가 있습니다.**"
        
        if eta_squared < 0.01:
            effect_desc = "차이는 있지만 매우 작습니다."
        elif eta_squared < 0.06:
            effect_desc = "작은 크기의 차이가 있습니다."
        elif eta_squared < 0.14:
            effect_desc = "중간 크기의 차이가 있습니다."
        else:
            effect_desc = "매우 큰 차이가 있습니다!"
        
        next_steps = [
            "🔍 **사후검정 필요**: 어느 그룹이 다른지 정확히 알아보세요",
            "📊 **그래프 확인**: 박스플롯으로 그룹별 차이를 시각화하세요"
        ]
    else:
        conclusion = "❓ **그룹들 사이에 명확한 차이가 있다고 확신하기 어렵습니다.**"
        effect_desc = "관찰된 차이는 우연에 의한 것일 가능성이 높습니다."
        next_steps = [
            "📏 **더 많은 데이터**: 각 그룹의 샘플 크기를 늘려보세요",
            "🔄 **비모수 방법**: Kruskal-Wallis 검정을 시도해보세요"
        ]
    
    return {
        'conclusion': conclusion,
        'effect_description': effect_desc,
        'next_steps': next_steps
    }
```

---

## 🎯 상황별 분석 가이드

### 👨‍🔬 연구자/학생용
```
📋 연구 질문 → 통계 방법 매칭

"성별에 따라 선호도가 다른가?" → 독립표본 t-검정
"연령대별 소득 차이는?" → 일원분산분석
"교육수준과 소득의 관계는?" → 상관분석
"여러 요인이 성과에 미치는 영향은?" → 다중회귀분석
```

### 🐟 수산 관련 연구자용
```
📋 수산과학 질문 → 통계 방법 매칭

"어획량이 연도별로 변하나?" → 트렌드 분석
"서로 다른 어장의 CPUE 비교" → ANOVA + 사후검정
"어체장과 무게의 관계" → 상관분석 + 회귀분석
"성장률 모델링" → von Bertalanffy 성장모델
```

### 📊 비즈니스 분석가용
```
📋 비즈니스 질문 → 통계 방법 매칭

"마케팅 효과가 있었나?" → 전후 비교 t-검정
"고객 그룹별 만족도 차이" → 일원분산분석
"가격과 판매량의 관계" → 상관분석
"여러 요인이 매출에 미치는 영향" → 다중회귀분석
```

---

## 🚦 결과에 따른 다음 단계 가이드

### ✅ 유의미한 결과가 나왔을 때

#### 1. **효과크기 확인**
```
큰 효과 → 실용적으로도 의미있는 차이
작은 효과 → 통계적으로는 유의하지만 실제로는 작은 차이
```

#### 2. **시각화하기**
```
📈 그래프로 결과를 명확하게 보여주세요
- t-검정 → 박스플롯, 막대그래프
- ANOVA → 박스플롯, 평균 비교 그래프
- 상관분석 → 산점도
```

#### 3. **추가 분석 고려**
```
🔍 더 깊이 파고들기
- 사후검정 (ANOVA 후)
- 세부 그룹 분석
- 다른 변수의 영향 확인
```

### ❓ 유의미하지 않은 결과가 나왔을 때

#### 1. **표본 크기 확인**
```
📏 검정력 분석 실행
- 충분한 데이터가 있었나?
- 더 많은 데이터가 필요한가?
```

#### 2. **다른 방법 시도**
```
🔄 대안 분석 방법
- 모수 → 비모수 방법 전환
- 그룹 재정의
- 다른 변수 고려
```

#### 3. **실질적 의미 해석**
```
💭 "통계적으로 유의하지 않다 ≠ 차이가 없다"
- 실제 차이는 있을 수 있음
- 더 정밀한 측정 필요
- 다른 접근 방식 고려
```

---

## 🎨 사용자 인터페이스 설계

### 결과 화면 구성
```
┌─────────────────────────────────────┐
│ 🎯 한 줄 요약                        │
│ "두 그룹 사이에 의미있는 차이가 있습니다" │
├─────────────────────────────────────┤
│ 📊 핵심 수치                         │
│ • p-값: 0.003 (매우 유의미!)         │
│ • 효과크기: 0.6 (중간 크기)           │
├─────────────────────────────────────┤
│ 💡 쉬운 해석                         │
│ "1000번 중 3번만 우연히 이런 차이가   │
│  생길 수 있어서, 진짜 차이라고       │
│  확신할 수 있습니다."                │
├─────────────────────────────────────┤
│ 🎯 다음에 할 일                      │
│ □ 그래프로 시각화하기                │
│ □ 세부 그룹별 분석하기               │
│ □ 다른 요인들도 확인하기             │
└─────────────────────────────────────┘
```

### 분석 추천 시스템
```python
def recommend_next_analysis(current_result, data_info):
    """현재 결과에 따라 다음 분석 추천"""
    
    recommendations = []
    
    if current_result['type'] == 'ttest':
        if current_result['p_value'] < 0.05:
            recommendations.append({
                'title': '📊 효과크기 시각화',
                'description': '차이를 그래프로 명확히 보여주세요',
                'action': 'create_boxplot',
                'priority': 'high'
            })
            
            if data_info['has_other_variables']:
                recommendations.append({
                    'title': '🔍 다른 변수들과 비교',
                    'description': '다른 요인들도 같은 패턴인지 확인해보세요',
                    'action': 'multi_variable_analysis',
                    'priority': 'medium'
                })
        else:
            recommendations.append({
                'title': '📏 검정력 분석',
                'description': '더 많은 데이터가 필요한지 확인해보세요',
                'action': 'power_analysis',
                'priority': 'high'
            })
    
    return recommendations
```

---

## 📚 용어 사전 (클릭하면 쉬운 설명)

### 통계 용어를 일상 언어로
```
🔤 통계 용어 → 🗣️ 쉬운 말

p-값 → "우연히 이런 결과가 나올 확률"
표준편차 → "데이터가 얼마나 흩어져 있는지"
상관계수 → "두 가지가 얼마나 함께 변하는지"
유의수준 → "얼마나 확신해야 '차이있다'고 할지 기준"
효과크기 → "차이가 얼마나 큰지"
검정력 → "진짜 차이를 찾아낼 능력"
```

### 상황별 예시
```
📖 "p-값이 0.05보다 작다"
→ 💬 "95% 이상 확신할 수 있는 차이가 있어요"

📖 "효과크기가 0.8이다"  
→ 💬 "매우 큰 차이예요! 눈으로도 쉽게 알 수 있을 거예요"

📖 "상관계수가 0.7이다"
→ 💬 "한 쪽이 증가하면 다른 쪽도 꽤 일정하게 증가해요"
```

---

*"통계는 어려운 게 아니라, 데이터가 들려주는 이야기를 이해하는 것입니다!"*

---

## 💾 데이터 크기 제한 및 메모리 가이드

### 🖥️ 사용자 컴퓨터 메모리에 따른 처리 용량

**중요**: 처리 가능한 데이터 크기는 사용자의 컴퓨터 메모리(RAM)에 따라 달라집니다!

#### 메모리별 권장 데이터 크기
| 시스템 RAM | 안전한 처리 | 최대 처리 | 권장 사항 |
|------------|------------|----------|----------|
| 4GB | ~10,000행 | ~30,000행 | 소규모 분석만 |
| 8GB | ~30,000행 | ~60,000행 | 일반적 분석 가능 |
| 16GB | ~60,000행 | ~100,000행 | 대부분 분석 가능 |
| 32GB+ | ~100,000행 | ~200,000행 | 대용량 처리 가능 |

**참고**: 브라우저는 시스템 메모리의 약 25-50%만 사용 가능합니다.
- Chrome: 최대 4GB (64비트 시스템)
- Firefox: 최대 2GB
- Safari: 최대 2GB

### ⚠️ 현재 시스템 제한사항

#### 파일 크기 제한
- **최대 파일**: 50MB
- **경고 크기**: 10MB 이상
- **이유**: 파일 파싱 및 메모리 로딩

#### 데이터 행/열 제한
| 항목 | 제한 | 경고 | 이유 |
|------|------|------|------|
| 행(Rows) | 100,000 | 10,000 | Pyodide 처리 속도 |
| 열(Columns) | 1,000 | 100 | DOM 렌더링 성능 |
| 셀(Cells) | 1천만 | 100만 | 전체 메모리 사용량 |

### 🚀 대용량 데이터 처리 팁

#### 1. 데이터 줄이기
```
✅ 필요한 컬럼만 선택
✅ 기간 필터링 (최근 1년 등)
✅ 랜덤 샘플링 (10% 추출)
✅ 집계 데이터 사용
```

#### 2. 메모리 확보하기
```
✅ 다른 브라우저 탭 닫기
✅ 불필요한 프로그램 종료
✅ 브라우저 재시작
✅ 크롬 사용 권장 (메모리 관리 우수)
```

#### 3. 성능 최적화
```
✅ CSV 형식 사용 (Excel보다 빠름)
✅ 숫자 데이터 위주로 구성
✅ 긴 텍스트 필드 제거
✅ 날짜는 숫자 형식으로 변환
```

### 📊 처리 시간 예상

| 데이터 크기 | 예상 시간 | 체감 |
|------------|----------|------|
| ~1,000행 | 즉시 | ⚡ 매우 빠름 |
| ~10,000행 | 2-5초 | 🚀 빠름 |
| ~50,000행 | 10-30초 | ⏱️ 보통 |
| ~100,000행 | 30초-2분 | ⏳ 느림 |

### 🔍 문제 해결 가이드

#### "메모리 부족" 오류
1. 데이터 크기 줄이기
2. 브라우저 재시작
3. 샘플 데이터로 먼저 테스트

#### "처리 시간 초과" 오류
1. 10,000행 이하로 줄이기
2. 컬럼 수 줄이기
3. 단순한 분석부터 시작

#### "브라우저 멈춤" 현상
1. 잠시 기다리기 (최대 2분)
2. 강제 새로고침 (Ctrl+F5)
3. 데이터 크기 확인

## 🆕 Week 3 Day 1 구현 완료 기능

### ✅ 완료된 주요 기능들

#### 1. 스마트 분석 플로우 (/smart-flow)
- **5단계 통합 인터페이스**: 한 페이지에서 모든 분석 완성
- **컴포넌트 기반 아키텍처**: 재사용 가능한 모듈식 구조
- **Zustand 상태 관리**: 중앙집중식 상태 관리

#### 2. AI 기반 추천 시스템
- **하이브리드 추천 엔진**: 키워드 + LLM 조합
- **사용자 선택형 모드**: 빠른/스마트/자동 선택 가능
- **Ollama 통합**: 로컬 LLM으로 프라이버시 보장
- **자동 폴백**: Ollama 불가 시 키워드 기반 폴백

#### 3. 실제 통계 분석 엔진
- **Pyodide 통합**: 브라우저에서 Python 실행
- **SciPy 지원**: 정확한 통계 계산 보장
- **실시간 분석**: 서버 없이 브라우저에서 처리

#### 4. 지원되는 Ollama 모델
```
✅ 사용 가능한 모델 (우선순위):
1. deepseek-r1:7b - 최신, 추론 능력 우수
2. qwen3:4b - 한국어 지원 우수
3. gemma3:4b - Google 모델
4. qwen3:4b-q4_K_M - 경량화 버전
5. gemma3:1b - 가장 가벼움
```

### 🔧 기술적 구현 사항

#### 키워드 기반 추천 시스템
- **패턴 매칭**: 통계 용어와 분석 목적 매칭
- **신뢰도 계산**: 키워드 개수와 명확성 기반
- **즉시 응답**: 100ms 이내 결과 제공

#### LLM 통합 세부사항
- **프롬프트 엔지니어링**: 구조화된 JSON 응답
- **온도 설정**: 0.3으로 일관성 중시
- **스트리밍 지원**: 실시간 응답 표시 가능

---

*최종 업데이트: 2025-09-16*  
*Week 3 Day 1 - AI 기반 통계 추천 시스템 구현 완료*  
*피드백 환영: 더 쉬운 설명이 필요한 부분이 있으면 알려주세요!*