# 📊 단일 페이지 통합 분석 인터페이스 설계

## 🎯 핵심 개념

**"한 화면에서 모든 통계 분석이 완성되는 가이드형 인터페이스"**

사용자가 페이지 이동 없이 한 화면에서 데이터 업로드부터 결과 확인, 다음 분석까지 모든 과정을 진행할 수 있는 통합 분석 시스템입니다.

## 🔄 분석 플로우 (5단계)

### Step 1: 데이터 입력 📁
- **시작 상태**: "분석 시작하기" 버튼 표시
- **클릭 시**: 파일 업로드 영역 활성화
- **지원 형식**: CSV, Excel (드래그 앤 드롭)
- **업로드 완료**: 데이터 검증 자동 실행

### Step 2: 데이터 검증 ✅
- **자동 검증 항목**:
  - 데이터 타입 확인
  - 결측값 탐지
  - 이상치 식별
  - 정규성 검정
- **시각적 피드백**: 검증 결과 실시간 표시
- **다음 단계 자동 진행**: 검증 완료 시

### Step 3: 분석 목적 설명 💭
- **사용자 입력**: "무엇을 알고 싶으신가요?"
- **예시 제공**:
  - "두 그룹의 평균 차이를 비교하고 싶습니다"
  - "변수 간 관계를 파악하고 싶습니다"
- **AI 추천**: 입력 기반 통계 방법 자동 제안

### Step 4: 통계 분석 실행 📈
- **추천 방법 표시**: 2-3개 최적 방법 제시
- **원클릭 실행**: 선택한 방법으로 즉시 분석
- **진행 상태**: 실시간 프로그레스 바
- **백그라운드 처리**: Pyodide 통계 엔진

### Step 5: 결과 및 다음 액션 🎯
- **결과 표시**:
  - 통계 수치 (p-value, 효과크기 등)
  - 시각화 차트
  - 해석 가이드
- **다음 액션 제안**:
  - "사후검정이 필요합니다" → 사후검정 버튼
  - "추가 분석 가능" → 관련 분석 추천
  - "보고서 생성" → PDF 다운로드
  - "새 데이터 분석" → 처음부터 시작

## 🎨 UI/UX 설계

### 레이아웃 구조
```
┌─────────────────────────────────────────┐
│  [Step 1] → [Step 2] → [Step 3] → ...  │ ← 진행 상태 바
├─────────────────────────────────────────┤
│                                         │
│         현재 단계 콘텐츠 영역            │
│                                         │
│  - 데이터 업로드                        │
│  - 검증 결과                           │
│  - 분석 설정                           │
│  - 결과 표시                           │
│                                         │
├─────────────────────────────────────────┤
│ [이전 단계] [다음 단계] [처음부터]       │ ← 네비게이션
└─────────────────────────────────────────┘
```

### 진행 상태 표시
- **Progress Stepper**: 상단에 5단계 진행 표시
- **현재 단계 강조**: 활성 단계 하이라이트
- **완료 단계**: 체크 아이콘 표시
- **이동 가능**: 완료된 단계는 클릭하여 이동

### 애니메이션 & 트랜지션
- **Fade In/Out**: 단계 전환 시 부드러운 전환
- **Slide Up**: 새 콘텐츠 등장 애니메이션
- **Loading State**: 처리 중 스켈레톤 UI
- **Success Animation**: 완료 시 체크 애니메이션

## 💡 핵심 기능

### 1. 상태 유지 (State Persistence)
- 각 단계의 데이터와 결과 유지
- 이전 단계로 돌아가도 입력값 보존
- 브라우저 새로고침 시에도 세션 유지

### 2. 가이드 시스템
- **툴팁**: 각 입력 필드에 도움말
- **예시 데이터**: 샘플 데이터로 시연
- **비디오 튜토리얼**: 단계별 사용법
- **FAQ**: 자주 묻는 질문 즉시 표시

### 3. 스마트 추천
- **데이터 기반**: 데이터 특성 분석 후 추천
- **목적 기반**: 사용자 설명 분석 후 추천
- **이력 기반**: 이전 분석 패턴 학습

### 4. 결과 액션
- **추가 분석**: 관련 분석 즉시 실행
- **비교 분석**: 다른 방법과 결과 비교
- **보고서 생성**: 원클릭 PDF 생성
- **공유**: 결과 링크 생성

## 🔧 기술 구현

### 컴포넌트 구조
```typescript
// app/(dashboard)/smart-flow/page.tsx
<SmartAnalysisFlow>
  <ProgressStepper currentStep={step} />
  
  <StepContent>
    {step === 1 && <DataUploadStep />}
    {step === 2 && <DataValidationStep />}
    {step === 3 && <PurposeInputStep />}
    {step === 4 && <AnalysisExecutionStep />}
    {step === 5 && <ResultsActionStep />}
  </StepContent>
  
  <NavigationControls />
</SmartAnalysisFlow>
```

### 상태 관리 (Zustand)
```typescript
interface AnalysisFlowState {
  currentStep: number
  uploadedData: Dataset | null
  validationResults: ValidationResult | null
  analysisPurpose: string
  selectedMethod: StatisticalMethod | null
  analysisResults: AnalysisResult | null
  
  // Actions
  setStep: (step: number) => void
  uploadData: (data: Dataset) => void
  setPurpose: (purpose: string) => void
  executeAnalysis: () => Promise<void>
  reset: () => void
}
```

### 라우팅 전략
- **URL 상태 동기화**: `/smart-flow?step=3`
- **뒤로가기 지원**: 브라우저 히스토리 관리
- **딥링크**: 특정 단계로 직접 접근

## 📅 구현 계획

### Week 3 (다음 주)
**Day 1-2: 기본 구조 구축**
- [ ] SmartAnalysisFlow 페이지 생성
- [ ] ProgressStepper 컴포넌트
- [ ] 기본 5단계 레이아웃

**Day 3-4: 단계별 구현**
- [ ] DataUploadStep 컴포넌트
- [ ] DataValidationStep 컴포넌트
- [ ] PurposeInputStep 컴포넌트

**Day 5-6: 분석 및 결과**
- [ ] AnalysisExecutionStep 컴포넌트
- [ ] ResultsActionStep 컴포넌트
- [ ] 다음 액션 추천 시스템

**Day 7: 통합 및 테스트**
- [ ] 전체 플로우 테스트
- [ ] 애니메이션 적용
- [ ] 반응형 디자인

### Week 4 (추가 개선)
- 고급 추천 알고리즘
- 결과 비교 기능
- 협업 기능 (결과 공유)
- 분석 히스토리

## 🎯 기대 효과

1. **사용성 향상**: 페이지 이동 없이 한 곳에서 모든 작업
2. **학습 곡선 감소**: 단계별 가이드로 초보자도 쉽게
3. **작업 효율**: 다음 액션 자동 제안으로 시간 단축
4. **완성도**: 전문가급 분석을 누구나 수행

## ✅ 체크리스트

### 필수 기능
- [ ] 5단계 플로우 구현
- [ ] 진행 상태 표시
- [ ] 상태 유지 시스템
- [ ] 다음 액션 제안
- [ ] 반응형 디자인

### 추가 기능
- [ ] 애니메이션 효과
- [ ] 키보드 단축키
- [ ] 자동 저장
- [ ] 실행 취소/다시 실행
- [ ] 분석 템플릿

## 📚 참고 레퍼런스

- **Typeform**: 단계별 폼 진행 UX
- **Google Forms**: 조건부 질문 플로우
- **Tableau**: 데이터 분석 워크플로우
- **SPSS**: 통계 분석 마법사

---

*이 문서는 단일 페이지 통합 분석 인터페이스의 설계 및 구현 계획입니다.*
*Last updated: 2025-09-12*